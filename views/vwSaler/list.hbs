{{#section 'css'}}
<style>
    body {
        background-color: #f8f9fa;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .sidebar {
        min-height: 100vh;
        background: #212529;
        color: white;
    }

    .nav-link {
        color: rgba(255, 255, 255, 0.7);
        border-radius: 5px;
        margin: 5px 0;
    }

    .nav-link:hover,
    .nav-link.active {
        color: white;
        background: #0d6efd;
    }

    .card-stats {
        border: none;
        border-radius: 12px;
        transition: transform 0.2s;
    }

    .card-stats:hover {
        transform: translateY(-5px);
    }

    .product-img {
        width: 45px;
        height: 45px;
        object-fit: cover;
        border-radius: 6px;
    }

    .status-pill {
        font-size: 0.75rem;
        padding: 4px 10px;
        border-radius: 20px;
        font-weight: 600;
    }
</style>
{{/section}}

<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="fw-bold">Danh sách sản phẩm</h2>

    </div>
    <button class="btn btn-primary shadow-sm" data-bs-toggle="modal" data-bs-target="#addProductModal">
        <i class="fas fa-plus me-2"></i>Thêm sản phẩm
    </button>
</div>

<div class="row g-3 mb-4">
    <div class="col-12 col-sm-6 col-xl-3">
        <div class="card card-stats shadow-sm p-3">
            <div class="d-flex align-items-center text-primary mb-2">
                <i class="fas fa-boxes fs-4 me-2"></i> <span class="fw-bold uppercase small">Tổng mặt hàng</span>
            </div>
            <h3 class="mb-0">{{products.length}}</h3>
        </div>
    </div>
</div>

<div class="card shadow-sm border-0">
    <div class="card-header bg-white py-3">
        <div class="row g-3">
            <div class="col-md-6">
                <div class="input-group">
                    <span class="input-group-text bg-light border-end-0"><i class="fas fa-search text-muted"></i></span>
                    <input type="text" class="form-control bg-light border-start-0"
                        placeholder="Tìm theo tên, SKU hoặc danh mục...">
                </div>
            </div>
            <div class="col-md-3">
                <select class="form-select bg-light">
                    <option selected>Tất cả danh mục</option>
                    <option>Food</option>
                    <option>Accessory</option>
                </select>
            </div> 
        </div>
    </div>
    <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
                <tr>
                    <th class="ps-4">Sản phẩm</th>
                    <th>Loại</th>
                    <th>Giá bán</th>
                    <th>Tồn kho</th>
                    <th>Mô tả</th>
                    <th class="text-end pe-4">Thao tác</th>
                </tr>
            </thead>
            <tbody>
                {{#each products}}
                <tr>
                    <td class="ps-4">
                        <div class="d-flex align-items-center">
                            <div>
                                <div class="fw-bold text-dark">{{this.product_name}}</div>
                                <small class="text-muted font-monospace">ID: #{{this.product_id}}</small>
                            </div>
                        </div>
                    </td>
                    <td><span class="badge bg-secondary-subtle text-secondary">{{this.product_type}}</span></td>
                    <td class="fw-bold">{{this.selling_price}}</td>
                    <td><span class="fw-semibold">{{this.stock_quantity}}</span></td>
                    <td class="fw-bold">{{this.description}}</td>

                    <td class="text-end pe-4">
                        <button class="btn btn-sm btn-outline-primary me-1"><i class="fas fa-edit"></i></button>
                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    {{!-- <div class="card-footer bg-white d-flex justify-content-between align-items-center py-3">
        <span class="small text-muted">Hiển thị 10 trong số 1,482</span>
        <ul class="pagination pagination-sm mb-0">
            <li class="page-item disabled"><a class="page-link" href="#"><i class="fas fa-chevron-left"></i></a></li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#"><i class="fas fa-chevron-right"></i></a>
            </li>
        </ul>
    </div> --}}
</div>


<div class="modal fade" id="addProductModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title fw-bold">Thêm sản phẩm mới</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="productForm" method="POST" action="/saler/add-product">
                    <div class="row g-3">
                        <div class="col-md-8">
                            <label class="form-label fw-semibold small">Tên sản phẩm</label>
                            <input type="text" name="product_name" class="form-control"
                                placeholder="Ví dụ: Xương gặm sạch răng">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label fw-semibold small">Loại</label>
                            <input type="text" name="product_type" class="form-control" placeholder="Ví dụ: Phụ kiện">
                        </div>

                        <div class="col-md-6">
                            <label class="form-label fw-semibold small">Giá bán (VNĐ)</label>
                            <input type="number" name="selling_price" class="form-control" placeholder="0.000">
                        </div>

                        <div class="col-md-6">
                            <label class="form-label fw-semibold small">Số lượng trong kho</label>
                            <input type="number" name="stock_quantity" class="form-control" placeholder="0">
                        </div>
                        <div class="col-md-12">
                            <label class="form-label fw-semibold small">Mô tả sản phẩm</label>
                            <textarea name="description" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer border-0">
                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Hủy bỏ</button>
                        <button type="submit" class="btn btn-primary px-4">Lưu sản phẩm</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>